/*!
*  Project: Iconomatic
*  Description: Detect links to native files and append the proper icon image after the link
*  Author: Michael Oakley
*  License: MIT
*/
(function(N,R,E,L){"use strict";var a="//www.nrel.gov/images/";var b={avi:{path:a+"icon_video.gif",type:"Video"},doc:{path:a+"icon_word.gif",type:"Microsoft Word"},docx:{path:a+"icon_word.gif",type:"Microsoft Word"},gif:{path:a+"icon_image.gif",type:"GIF"},jpg:{path:a+"icon_image.gif",type:"JPG"},m3u:{path:a+"icon_audio.gif",type:"Audio"},mov:{path:a+"icon_video.gif",type:"Video"},mp3:{path:a+"icon_audio.gif",type:"Audio"},mpg:{path:a+"icon_video.gif",type:"Video"},mpeg:{path:a+"icon_video.gif",type:"Video"},pdf:{path:a+"icon_pdf.gif",type:"PDF"},ppt:{path:a+"icon_powerpoint.gif",type:"Microsoft PowerPoint"},pptx:{path:a+"icon_powerpoint.gif",type:"Microsoft PowerPoint"},wmv:{path:a+"icon_video.gif",type:"Video"},xls:{path:a+"icon_excel.gif",type:"Microsoft Excel"},xlsx:{path:a+"icon_excel.gif",type:"Microsoft Excel"},xlsm:{path:a+"icon_excel.gif",type:"Microsoft Excel"},zip:{path:a+"icon_zip.gif",type:"ZIP Archive"}};var c="iconomatic";var d={ajax:false,dataMode:false,dataAttr:"iconomatic",iconClass:"fileIcon",filesObj:b};function e(a,b){this.element=a;this.options=N.extend({},d,b);this._defaults=d;this._name=c;this.init()}e.prototype={init:function(){var a,b;b=N("body");a=this.getLinks(b);this.addIcons(a);if(this.options.ajax){this.enableAjax()}},getLinks:function(a){var b,c,d,e;b=this.options;c=b.filesObj;d="data-"+b.dataAttr;e=[];N(a).find("a").filter(function(){return!N(this).attr("data-iconomatic-tagged")}).each(function(a,f){var g,h;g=N(f).attr("href");if(typeof g!=="L"&&g!==null&&g!==""){h=g.toLowerCase().split(".").splice(-1,1).toString();if(h in c){N(f).attr("data-iconomatic-tagged",h);e.push(f)}}if(b.dataMode){if(N(f).attr(d)){N(f).attr("data-iconomatic-tagged",function(){return N(this).attr(d)});e.push(f)}}});return e},enableAjax:function(){var a,b,c,d,e=this;if(R.MutationObserver||R.WebKitMutationObserver||R.MozMutationObserver){b=R.MutationObserver||R.WebKitMutationObserver||R.MozMutationObserver}else{return true}c=E.querySelector("body");d=new b(function(b){b.forEach(function(b){if(b.type==="childList"){a=e.getLinks(b.target);e.addIcons(a)}})});d.observe(c,{childList:true,subtree:true})},addIcons:function(a){var b=this.options;N(a).filter(function(){return N(this).has("img").length===0}).each(function(a,c){var d,e,f;d=N(c).data("iconomatic-tagged");e=typeof b.filesObj[d]!=="L"?b.filesObj[d].path:false;if(e){f={"class":b.iconClass,alt:b.filesObj[d].type,src:e};N("<img />",f).appendTo(c)}})}};N.fn[c]=function(a){return this.each(function(){if(!N.data(this,"plugin_"+c)){N.data(this,"plugin_"+c,new e(this,a))}})}})(jQuery,window,document);
//# sourceMappingURL=jquery.iconomatic.min.map